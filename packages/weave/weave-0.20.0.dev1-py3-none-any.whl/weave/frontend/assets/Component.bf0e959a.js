import{c as N,d as M,r as d,a9 as H,aa as I,W as l,a as S,ab as $,ac as E,ad as k,u as T}from"./index.de10d43c.js";var j={};(function(n){(function(o,h){if(typeof n.nodeName!="string")h(n);else{var u={};h(u),o.AnsiUp=u.default}})(N,function(o){function h(i){var e=i.raw[0],t=/^\s+|\s+\n|\s+#[\s\S]+?\n/gm,a=e.replace(t,"");return new RegExp(a,"m")}var u=function(){function i(){this.VERSION="3.0.0",this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.htmlFormatter={transform:function(e,t){var a=e.text;if(a.length===0||(t._escape_for_html&&(a=t.old_escape_for_html(a)),!e.bold&&e.fg===null&&e.bg===null))return a;var s=[],c=[],r=e.fg,f=e.bg;e.bold&&s.push("font-weight:bold"),t._use_classes?(r&&(r.class_name!=="truecolor"?c.push(r.class_name+"-fg"):s.push("color:rgb("+r.rgb.join(",")+")")),f&&(f.class_name!=="truecolor"?c.push(f.class_name+"-bg"):s.push("background-color:rgb("+f.rgb.join(",")+")"))):(r&&s.push("color:rgb("+r.rgb.join(",")+")"),f&&s.push("background-color:rgb("+f.rgb+")"));var g="",p="";return c.length&&(g=' class="'+c.join(" ")+'"'),s.length&&(p=' style="'+s.join(";")+'"'),"<span"+p+g+">"+a+"</span>"},compose:function(e,t){return e.join("")}},this.textFormatter={transform:function(e,t){return e.text},compose:function(e,t){return e.join("")}},this.setup_256_palette(),this._use_classes=!1,this._escape_for_html=!0,this.bold=!1,this.fg=this.bg=null,this._buffer=""}return Object.defineProperty(i.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"escape_for_html",{get:function(){return this._escape_for_html},set:function(e){this._escape_for_html=e},enumerable:!0,configurable:!0}),i.prototype.setup_256_palette=function(){var e=this;this.palette_256=[],this.ansi_colors.forEach(function(m){m.forEach(function(_){e.palette_256.push(_)})});for(var t=[0,95,135,175,215,255],a=0;a<6;++a)for(var s=0;s<6;++s)for(var c=0;c<6;++c){var r={rgb:[t[a],t[s],t[c]],class_name:"truecolor"};this.palette_256.push(r)}for(var f=8,g=0;g<24;++g,f+=10){var p={rgb:[f,f,f],class_name:"truecolor"};this.palette_256.push(p)}},i.prototype.old_escape_for_html=function(e){return e.replace(/[&<>]/gm,function(t){if(t==="&")return"&amp;";if(t==="<")return"&lt;";if(t===">")return"&gt;"})},i.prototype.old_linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(t){return'<a href="'+t+'">'+t+"</a>"})},i.prototype.detect_incomplete_ansi=function(e){return!/.*?[\x40-\x7e]/.test(e)},i.prototype.detect_incomplete_link=function(e){for(var t=!1,a=e.length-1;a>0;a--)if(/\s|\x1B/.test(e[a])){t=!0;break}if(!t)return/(https?:\/\/[^\s]+)/.test(e)?0:-1;var s=e.substr(a+1,4);if(s.length===0)return-1;if("http".indexOf(s)===0)return a+1},i.prototype.ansi_to=function(e,t){var a=this._buffer+e;this._buffer="";var s=a.split(/\x1B\[/);s.length===1&&s.push(""),this.handle_incomplete_sequences(s);for(var c=this.with_state(s.shift()),r=new Array(s.length),f=0,g=s.length;f<g;++f)r[f]=t.transform(this.process_ansi(s[f]),this);return c.text.length>0&&r.unshift(t.transform(c,this)),t.compose(r,this)},i.prototype.ansi_to_html=function(e){return this.ansi_to(e,this.htmlFormatter)},i.prototype.ansi_to_text=function(e){return this.ansi_to(e,this.textFormatter)},i.prototype.with_state=function(e){return{bold:this.bold,fg:this.fg,bg:this.bg,text:e}},i.prototype.handle_incomplete_sequences=function(e){var t=e[e.length-1];t.length>0&&this.detect_incomplete_ansi(t)?(this._buffer="\x1B["+t,e.pop(),e.push("")):(t.slice(-1)==="\x1B"&&(this._buffer="\x1B",console.log("raw",e),e.pop(),e.push(t.substr(0,t.length-1)),console.log(e),console.log(t)),e.length===2&&e[1]===""&&e[0].slice(-1)==="\x1B"&&(this._buffer="\x1B",t=e.shift(),e.unshift(t.substr(0,t.length-1))))},i.prototype.process_ansi=function(e){this._sgr_regex||(this._sgr_regex=(w=[`
            ^                           # beginning of line
            ([!<-?]?)             # a private-mode char (!, <, =, >, ?)
            ([d;]*)                    # any digits or semicolons
            ([ -/]?               # an intermediate modifier
            [@-~])                # the command
            ([sS]*)                   # any text following this CSI sequence
          `],w.raw=[`
            ^                           # beginning of line
            ([!\\x3c-\\x3f]?)             # a private-mode char (!, <, =, >, ?)
            ([\\d;]*)                    # any digits or semicolons
            ([\\x20-\\x2f]?               # an intermediate modifier
            [\\x40-\\x7e])                # the command
            ([\\s\\S]*)                   # any text following this CSI sequence
          `],h(w)));var t=e.match(this._sgr_regex);if(!t)return this.with_state(e);var a=t[4];if(t[1]!==""||t[3]!=="m")return this.with_state(a);for(var s=t[2].split(";");s.length>0;){var c=s.shift(),r=parseInt(c,10);if(isNaN(r)||r===0)this.fg=this.bg=null,this.bold=!1;else if(r===1)this.bold=!0;else if(r===22)this.bold=!1;else if(r===39)this.fg=null;else if(r===49)this.bg=null;else if(r>=30&&r<38)this.fg=this.ansi_colors[0][r-30];else if(r>=40&&r<48)this.bg=this.ansi_colors[0][r-40];else if(r>=90&&r<98)this.fg=this.ansi_colors[1][r-90];else if(r>=100&&r<108)this.bg=this.ansi_colors[1][r-100];else if((r===38||r===48)&&s.length>0){var f=r===38,g=s.shift();if(g==="5"&&s.length>0){var p=parseInt(s.shift(),10);p>=0&&p<=255&&(f?this.fg=this.palette_256[p]:this.bg=this.palette_256[p])}if(g==="2"&&s.length>2){var m=parseInt(s.shift(),10),_=parseInt(s.shift(),10),y=parseInt(s.shift(),10);if(m>=0&&m<=255&&_>=0&&_<=255&&y>=0&&y<=255){var x={rgb:[m,_,y],class_name:"truecolor"};f?this.fg=x:this.bg=x}}}}return this.with_state(a);var w},i}();Object.defineProperty(o,"__esModule",{value:!0}),o.default=u})})(j);const A=M(j);function b(n){return typeof n=="string"?[n]:n}function L(n){return["image/png","image/jpeg","image/gif","image/bmp"].find(o=>n.data[o])}function v(n){return Array.isArray(n)?n.join(""):n}function O(n,o,h){return l.createElement("img",{key:h,alt:n.data["text/plain"]||h,src:`data:${o};base64,`+n.data[o]})}const P=(n,o)=>`<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/normalize.css" />
    <script>
    let height;
    const sendPostMessage = () => {
      if (height !== document.body.offsetHeight) {
        height = document.body.offsetHeight;
        window.parent.postMessage({frameHeight: height, id: "${o}"}, '*');
      }
    }
    window.onload = () => sendPostMessage();
    window.onresize = () => sendPostMessage();
    <\/script>
  </head>${n}</html>`;function B(n,o,h){if(n.cell_type!=="code")return[];const u=new A;if(n.outputs==null)return console.warn("Empty cell",n),[];let i="";const e=[];if(n.outputs.forEach((t,a)=>{const s=`${o}-output-${a}`;if(t.output_type==="stream"?e.push(l.createElement("div",{className:`${t.name} stream`,key:s,dangerouslySetInnerHTML:{__html:u.ansi_to_html(b(t.text).filter(r=>!r.startsWith("wandb:")).join(""))}})):t.output_type==="error"&&e.push(l.createElement("div",{className:"error",key:s,dangerouslySetInnerHTML:{__html:u.ansi_to_html(t.traceback.join(`
`))}})),t.output_type!=="display_data"&&t.output_type!=="execute_result"){console.warn("Skipping rendering of ",t.output_type);return}const c=L(t);if(t.data["text/html"]){const r=v(t.data["text/html"]);if(r.includes("<iframe")){console.warn("Not rendering nested iframe");return}i+=r}else c?e.push(O(t,c,s)):t.data["text/markdown"]?e.push(l.createElement("div",{className:"markdown",key:s,dangerouslySetInnerHTML:{__html:E(v(t.data["text/markdown"]))?.value||""}})):t.data["text/json"]?e.push(l.createElement("div",{className:"json",key:s},v(t.data["text/json"]))):t.data["text/plain"]&&e.push(l.createElement("div",{className:"text",key:s},v(t.data["text/plain"])))}),i!==""){const t=`${o}-iframe`;e.unshift(l.createElement("iframe",{ref:h,id:t,title:t,className:"html",sandbox:"allow-scripts allow-popups allow-downloads",key:t,style:{border:"none",width:"100%"},srcDoc:P(i,t)}))}return e}const C=({cell:n,id:o,runCode:h,saveCode:u,readonly:i})=>{const e=d.exports.useRef(null);d.exports.useEffect(()=>{const a=s=>{if(e.current&&s.data.hasOwnProperty("frameHeight")&&s.data.id===e.current.id){const c=Math.min(500,s.data.frameHeight);e.current.style.height=c+"px"}};if(e.current)return window.addEventListener("message",a),()=>{window.removeEventListener("message",a)}},[e]);const t=d.exports.useMemo(()=>B(n,o,e),[n,o,e]);return l.createElement("div",{className:S({cell:!0,readonly:i})},n.cell_type==="code"&&l.createElement("div",{className:"input"},l.createElement("div",{className:"gutter"},l.createElement("span",null,`[${n.execution_count}]: `)),l.createElement("div",{className:"source"},l.createElement($,{value:b(n.source).join(""),height:b(n.source).length*24,options:{readOnly:i,hideCursorInOverviewRuler:!0,renderLineHighlight:"none",lineNumbers:"off",contextmenu:!i,occurrencesHighlight:!1,folding:!1,fontSize:16,lineDecorationsWidth:0,scrollbar:{vertical:"hidden",handleMouseWheel:!1,useShadows:!1}},theme:"wandb",onChange:a=>u&&u(a||""),onMount:(a,s)=>{s.editor.defineTheme("wandb",{base:"vs",inherit:!0,rules:[],colors:{"editor.foreground":"#000000","editor.background":"#f5f5f5"}}),a.addCommand(s.KeyMod.Shift|s.KeyCode.Enter,c=>h&&h(b(n.source).join("")))},language:"python"}))),n.cell_type==="markdown"?l.createElement("div",{className:"output",dangerouslySetInnerHTML:{__html:E(b(n.source).join("")).toString()}}):l.createElement("div",{className:"output"},t))},R=n=>{const{raw:o}=n,h=d.exports.useRef(H());d.exports.useEffect(()=>{I.exports.highlightAll()});const u=d.exports.useMemo(()=>{try{const i=JSON.parse(o);return i.cells.forEach(e=>{typeof e.source=="string"&&(e.source=e.source.split(`
`).map(t=>t+`
`),e.source[e.source.length-1]=e.source[e.source.length-1].trim())}),i}catch{return null}},[o]);return u==null?l.createElement("div",null,"Error"):l.createElement("div",{className:"notebook",style:{position:"relative"}},u.cells.map((i,e)=>l.createElement(C,{readonly:!0,cell:i,id:`${h.current}-cell-${e}`,key:`${h.current}-cell-${e}`})))},J=n=>{const o=k({file:n.input}),h=T(o);if(h.loading)return l.createElement("div",null);const u=h.result;if(u==null)throw new Error("PanelJupyter: content is null");return l.createElement("div",{style:{width:"100%",height:"100%",flex:"1 1 auto",overflow:"auto"}},l.createElement(R,{raw:u}))};export{J as default};
//# sourceMappingURL=Component.bf0e959a.js.map
