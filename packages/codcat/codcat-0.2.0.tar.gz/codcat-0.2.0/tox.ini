[tox]
requires =
    tox>=4
env_list = lint, type, py{39,310}

[testenv]
description = run unit tests
deps =
    pytest>=7
    pytest-sugar
    hypothesis
commands =
    pytest {posargs:tests}

[testenv:lint]
description = run linters
skip_install = true
deps =
    black==23.1.0
    isort==5.12.0
    flake8==6.0.0
commands =
    black --check --diff .
    isort --check-only --diff .
    flake8 .


[testenv:type]
description = run type checks
deps =
    mypy==1.1.1
    types-pyyaml
    types-requests
commands =
    mypy --config-file {toxinidir}/setup.cfg .
