syntax = "proto3";

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "common.proto";
import "oltpannotation.proto";
import "organization.proto";

option java_package = "io.calixa.domain.trendsearch";
option java_multiple_files = true;
option optimize_for = SPEED;

package calixa.domain.trendsearch;

service TrendSearchService {
  rpc GetTrendSearch (GetTrendSearchRequest) returns (calixa.domain.organization.TrendSearch);
  rpc GetAllTrendSearches (GetTrendSearchRequest) returns (stream calixa.domain.organization.TrendSearch);
  rpc PutTrendSearch (PutTrendSearchRequest) returns (calixa.domain.organization.TrendSearch);
  rpc DeleteTrendSearch(DeleteTrendSearchRequest) returns (google.protobuf.Empty);
}

message GetTrendSearchRequest {
  // If trend_search_id is specified, the specific TrendSearch is returned; otherwise
  // all TrendSearches are returned for the specified organization.
  string trend_search_id = 1;
  // If entity_type is specified, TrendSearches defined for specific entity type are returned;
  // otherwise all TrendSearches are returned for the specified organization.
  calixa.domain.common.EntityType entity_type = 2;
}

message PutTrendSearchRequest {
  calixa.domain.organization.TrendSearch trend_search = 1;
}

message DeleteTrendSearchRequest {
  string trend_search_id = 1;
}
