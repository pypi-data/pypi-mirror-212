(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{9048:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plots/[uuid]",function(){return n(759)}])},6349:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var l=n(5893),a=n(7294),s=n(8983),c=n(4186),i=n(1163),o=n(6154),u=n(5670);async function r(e){return await o.Z.get("".concat(u.T,"/views/").concat(e)).then(e=>({config:e.data.config,data:e.data.data}))}async function d(e,t){return await o.Z.post("".concat(u.T,"/views/").concat(e,"/filter"),t).then(e=>e.data)}function h(e){let[t,n]=(0,a.useState)(void 0),[s,c]=(0,a.useState)(),[i,o]=(0,a.useState)(),[u,r]=(0,a.useState)();return(0,a.useEffect)(()=>{""!==e.uuid&&void 0!==t&&d(e.uuid,t).then(t=>{e.handleFilterData(t)}).catch(e=>console.log(e))},[t]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 mb-2",children:null==t?void 0:t.map(e=>(0,l.jsx)("div",{className:"float-start p-1",children:(0,l.jsxs)("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Basic outlined example",children:[(0,l.jsxs)("button",{type:"button",className:"btn btn-outline-secondary",children:[e.column," ",e.comparison," ",e.value]}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{null!=t&&n(t.filter(t=>t!==e))},children:(0,l.jsx)("i",{className:"bi bi-x"})})]})},"".concat(e.column).concat(e.comparison).concat(e.value)))}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"input-group input-group-sm ps-1",children:[(0,l.jsxs)("select",{className:"form-select",defaultValue:"","aria-label":"Default select example",onChange:e=>c(e.target.value),children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Column"}),e.cfg.columns.slice(2).filter(e=>"_y"!==e).map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{name:"",id:"",defaultValue:"",className:"form-select",onChange:e=>o(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"comparison"}),(0,l.jsx)("option",{value:">",children:">"}),(0,l.jsx)("option",{value:"<",children:"<"}),(0,l.jsx)("option",{value:"=",children:"="}),(0,l.jsx)("option",{value:"!=",children:"â‰ "})]}),(0,l.jsx)("input",{type:"text","aria-label":"Last name",className:"form-control",onChange:e=>r(e.target.value)}),(0,l.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){if(null!=u&&null!=i&&null!=s){let e={column:s,comparison:i,value:u},l=null!=t?t:[];(null==l?void 0:l.filter(t=>t===e).length)>0||n([...l,e])}},children:"Filter"})]})})]})})}var m=n(5152),f=n.n(m);let p=f()(n.e(311).then(n.bind(n,3311)),{loadableGenerated:{webpack:()=>[3311]},ssr:!1});var v=n(5703);async function x(){return await o.Z.get("".concat(u.T,"/uuid")).then(e=>e.data)}function b(e){let{uuidProp:t,handleGrid:n,handleMedia:o}=e,u=(0,i.useRouter)(),[d,m]=(0,a.useState)(void 0),[f,b]=(0,a.useState)(new s.D("","",[])),[j,g]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[y,_]=(0,a.useState)(0);function k(e){null!=e&&null!=d&&(0,c.o)(d,e).then(e=>g(e)).catch(e=>console.log(e))}(0,a.useEffect)(()=>{void 0!==t&&("recent"===t?x().then(e=>m(e)):m(t))},[t]),(0,a.useEffect)(()=>{void 0!==d&&r(d).then(async e=>{let{config:t,data:n}=e;b(t),w(n),_(y+1),"grid"===t.type&&await S(n[0].id)}).catch(e=>console.log(e))},[d]),(0,a.useEffect)(()=>{null===j&&N.length>0&&k(N[0].id[1])},[d,N]);let C=async e=>{if(null!=e&&null!=d){let t=await (0,c.o)(d,e);g(t),u.push("/plots/".concat(d,"/media/").concat(e)).catch(e=>console.log(e))}},S=e=>{void 0!==d&&u.push("/plots/".concat(d,"/grid?page=0&media=").concat(e.join(","))).catch(e=>console.log(e))};return(0,l.jsx)("div",{className:"container-fluid pt-1",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-9 col--main",children:(0,l.jsxs)("div",{className:"row",children:[null!=f.title&&(0,l.jsx)("div",{className:"col-12",children:f.title}),(0,l.jsx)("div",{className:"col-12",children:null!==d&&(0,l.jsx)(h,{cfg:f,uuid:d,handleFilterData:e=>{w(e),_(y+1)}})}),(0,l.jsx)("div",{className:"col-12 col--plot",children:function(e){let{data:t,config:n,revision:a,handleHover:s,handleClick:c,handleSelect:i}=e;return(0,l.jsx)(p,{data:t,config:n,revision:a,handleHover:s,handleClick:c,handleSelect:i})}({data:N,config:f,revision:y,handleClick:C,handleHover:k,handleSelect:S})})]})}),(0,l.jsx)("div",{className:"col-3 border-start border-dark text-dark",children:null!==j&&(0,l.jsx)(v.Z,{media:j,columns:f.columns,boundingBoxColumn:f.bounding_box})})]})})}},8983:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});class l{constructor(e,t,n,l,a,s,c,i,o,u,r){this.type=e,this.media=t,this.columns=n,this.title=l,this.x=a,this.y=s,this.color=c,this.size=i,this.symbol=o,this.bounding_box=u,this.colors=r}}},759:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var l=n(5893);n(7294);var a=n(1163),s=n(6349);function c(){let e=(0,a.useRouter)(),t=e.query.uuid;return(0,l.jsx)(s.Z,{uuidProp:t})}}},function(e){e.O(0,[845,500,774,888,179],function(){return e(e.s=9048)}),_N_E=e.O()}]);