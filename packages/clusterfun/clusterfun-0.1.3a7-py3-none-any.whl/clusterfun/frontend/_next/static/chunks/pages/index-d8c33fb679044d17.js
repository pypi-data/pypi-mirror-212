(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(984)}])},6349:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var l=n(5893),a=n(7294),s=n(8983),o=n(4186),c=n(1163),i=n(6154),r=n(5670);async function u(e){return await i.Z.get("".concat(r.T,"/views/").concat(e)).then(e=>({config:e.data.config,data:e.data.data}))}async function d(e,t){return await i.Z.post("".concat(r.T,"/views/").concat(e,"/filter"),t).then(e=>e.data)}function h(e){let[t,n]=(0,a.useState)(void 0),[s,o]=(0,a.useState)(),[c,i]=(0,a.useState)(),[r,u]=(0,a.useState)();return(0,a.useEffect)(()=>{""!==e.uuid&&void 0!==t&&d(e.uuid,t).then(t=>{e.handleFilterData(t)}).catch(e=>console.log(e))},[t]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 mb-2",children:null==t?void 0:t.map(e=>(0,l.jsx)("div",{className:"float-start p-1",children:(0,l.jsxs)("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Basic outlined example",children:[(0,l.jsxs)("button",{type:"button",className:"btn btn-outline-secondary",children:[e.column," ",e.comparison," ",e.value]}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{null!=t&&n(t.filter(t=>t!==e))},children:(0,l.jsx)("i",{className:"bi bi-x"})})]})},"".concat(e.column).concat(e.comparison).concat(e.value)))}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"input-group input-group-sm ps-1",children:[(0,l.jsxs)("select",{className:"form-select",defaultValue:"","aria-label":"Default select example",onChange:e=>o(e.target.value),children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Column"}),e.cfg.columns.slice(2).filter(e=>"_y"!==e).map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{name:"",id:"",defaultValue:"",className:"form-select",onChange:e=>i(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"comparison"}),(0,l.jsx)("option",{value:">",children:">"}),(0,l.jsx)("option",{value:"<",children:"<"}),(0,l.jsx)("option",{value:"=",children:"="}),(0,l.jsx)("option",{value:"!=",children:"â‰ "})]}),(0,l.jsx)("input",{type:"text","aria-label":"Last name",className:"form-control",onChange:e=>u(e.target.value)}),(0,l.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){if(null!=r&&null!=c&&null!=s){let e={column:s,comparison:c,value:r},l=null!=t?t:[];(null==l?void 0:l.filter(t=>t===e).length)>0||n([...l,e])}},children:"Filter"})]})})]})})}var m=n(5152),f=n.n(m);let p=f()(n.e(311).then(n.bind(n,3311)),{loadableGenerated:{webpack:()=>[3311]},ssr:!1});var x=n(5703);async function v(){return await i.Z.get("".concat(r.T,"/uuid")).then(e=>e.data)}function j(e){let{uuidProp:t,handleGrid:n,handleMedia:i}=e,r=(0,c.useRouter)(),[d,m]=(0,a.useState)(void 0),[f,j]=(0,a.useState)(new s.D("","",[])),[b,g]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[y,_]=(0,a.useState)(0);function C(e){null!=e&&null!=d&&(0,o.o)(d,e).then(e=>g(e)).catch(e=>console.log(e))}(0,a.useEffect)(()=>{void 0!==t&&("recent"===t?v().then(e=>m(e)):m(t))},[t]),(0,a.useEffect)(()=>{void 0!==d&&u(d).then(async e=>{let{config:t,data:n}=e;j(t),w(n),_(y+1),"grid"===t.type&&await S(n[0].id)}).catch(e=>console.log(e))},[d]),(0,a.useEffect)(()=>{null===b&&N.length>0&&C(N[0].id[1])},[d,N]);let E=async e=>{if(null!=e&&null!=d){let t=await (0,o.o)(d,e);g(t),r.push("/plots/".concat(d,"/media/").concat(e)).catch(e=>console.log(e))}},S=e=>{void 0!==d&&r.push("/plots/".concat(d,"/grid?page=0&media=").concat(e.join(","))).catch(e=>console.log(e))};return(0,l.jsx)("div",{className:"container-fluid pt-1",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-9 col--main",children:(0,l.jsxs)("div",{className:"row",children:[null!=f.title&&(0,l.jsx)("div",{className:"col-12",children:f.title}),(0,l.jsx)("div",{className:"col-12",children:null!==d&&(0,l.jsx)(h,{cfg:f,uuid:d,handleFilterData:e=>{w(e),_(y+1)}})}),(0,l.jsx)("div",{className:"col-12 col--plot",children:function(e){let{data:t,config:n,revision:a,handleHover:s,handleClick:o,handleSelect:c}=e;return(0,l.jsx)(p,{data:t,config:n,revision:a,handleHover:s,handleClick:o,handleSelect:c})}({data:N,config:f,revision:y,handleClick:E,handleHover:C,handleSelect:S})})]})}),(0,l.jsx)("div",{className:"col-3 border-start border-dark text-dark",children:null!==b&&(0,l.jsx)(x.Z,{media:b,columns:f.columns,boundingBoxColumn:f.bounding_box})})]})})}},8983:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});class l{constructor(e,t,n,l,a,s,o,c,i,r,u){this.type=e,this.media=t,this.columns=n,this.title=l,this.x=a,this.y=s,this.color=o,this.size=c,this.symbol=i,this.bounding_box=r,this.colors=u}}},984:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var l=n(5893),a=n(6349),s=n(7294),o=n(2918),c=n.n(o);class i extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,errorInfo:null,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t,error:e})}render(){return this.state.hasError?(0,l.jsx)(c(),{error:this.state.error,errorInfo:this.state.errorInfo,statusCode:500}):this.props.children}constructor(e){super(e),this.state={hasError:!1,errorInfo:null,error:null}}}function r(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i,{children:(0,l.jsx)(a.Z,{uuidProp:"recent"})})})}},2918:function(e,t,n){e.exports=n(3499)}},function(e){e.O(0,[845,500,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);