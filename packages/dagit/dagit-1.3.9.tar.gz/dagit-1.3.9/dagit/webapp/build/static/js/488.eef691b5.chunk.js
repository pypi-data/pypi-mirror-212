"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[488],{51664:function(n,t,e){e.d(t,{R:function(){return i}});var i=function(n){return"result"!==n.solid.name?"".concat(n.solid.name,":").concat(n.definition.name):n.solid.name}},85488:function(n,t,e){e.r(t),e.d(t,{layoutOp:function(){return E},layoutOpGraph:function(){return b}});var i=e(68079),o=e(83975),a=e(51664),r=370,u=52,d=22,h=26,f=0,c=35,s=4,p=13,l=h/2,m=70,g=70,y=50,v=100;function x(n){var t={};return n.forEach((function(n){return n.forEach((function(n){return t[(0,a.R)(n)]=n}))})),Object.values(t)}function b(n,t){var e=new o.graphlib.Graph,i=0,a=v,r=v;t&&(i=Math.max(t.inputs.length,t.outputs.length)*h,a=(r=m+g)+i),e.setGraph({rankdir:"TB",marginx:r,marginy:a}),e.setDefaultEdgeLabel((function(){return{}}));var u=[],d={};n.forEach((function(n){d[n.name]=!0})),n.forEach((function(n){var t=E(n,{x:0,y:0});e.setNode(n.name,{width:t.bounds.width,height:t.bounds.height}),n.inputs.forEach((function(t){t.dependsOn.forEach((function(i){d[i.solid.name]&&d[n.name]&&(e.setEdge({v:i.solid.name,w:n.name},{weight:1}),u.push({from:{point:{x:0,y:0},opName:i.solid.name,edgeName:i.definition.name},to:{point:{x:0,y:0},opName:n.name,edgeName:t.definition.name}}))}))}))})),o.layout(e);var f={},c={};e.nodes().forEach((function(n){var t=e.node(n);t&&(c[n]=t)}));var s=0,l=0;Object.keys(c).forEach((function(t){var e=c[t],i=n.find((function(n){return n.name===t}));if(i){var o=e.x-e.width/2,a=e.y-e.height/2;f[t]=E(i,{x:o,y:a}),s=Math.max(s,o+e.width),l=Math.max(l,a+e.height)}})),e.edges().forEach((function(n){var t=u.find((function(t){return t.from.opName===n.v&&t.to.opName===n.w})),i=e.edge(n).points;t&&(t.from.point=i[0],t.to.point=i[i.length-1])}));var b={edges:u,nodes:f,width:s+r,height:l+a,parent:null};return t&&(b.parent=function(n,t,e){var i={invocationBoundingBox:{x:1,y:1,width:n.width-1,height:n.height-1},bounds:{x:g,y:g+e,width:n.width-2*g,height:n.height-2*(g+e)},mappingLeftEdge:g-20,mappingLeftSpacing:10,inputs:{},outputs:{},dependsOn:w(x(t.inputs.map((function(n){return n.dependsOn}))),-y,n.width),dependedBy:w(x(t.outputs.map((function(n){return n.dependedBy}))),n.height+y,n.width)},o=i.bounds.y+i.bounds.height;return t.inputs.forEach((function(n,t){i.inputs[n.definition.name]={layout:{x:i.bounds.x,y:i.bounds.y-t*h-h,width:0,height:h},collapsed:[],label:!0,port:{x:i.bounds.x+p,y:i.bounds.y-t*h-h/2}}})),t.outputs.forEach((function(n,t){i.outputs[n.definition.name]={layout:{x:i.bounds.x,y:o+t*h,width:0,height:h},collapsed:[],label:!0,port:{x:i.bounds.x+p,y:o+t*h+h/2}}})),i}(b,t,i)),b}function w(n,t,e){var i=g+p,o=e-2*i,r=Math.max(200,o/n.length),u=i+Math.min(0,(o-n.length*r)/2),d=r<300?20:0,h={};return n.forEach((function(n,e){var i=1-e%2*2;h[(0,a.R)(n)]={x:u+e*r,y:t+d*i}})),h}function E(n,t){var e=t.y,o=function(n,o,a){var u,d=(0,i.Z)(n).sort((function(n,t){return o(n).localeCompare(o(t))})),f=0,s=null,m={},g=Math.min(c,r/(d.length+1));d.forEach((function(n,i){var o=a(n);o!==s?(s=o,u={port:{x:t.x+f+p,y:e+l},collapsed:[],label:!1,layout:{x:t.x+f,y:e,width:c,height:h}},m[n.definition.name]=u,f+=g):(0===u.collapsed.length&&(f+=15),u.collapsed.push(n.definition.name))}));var y=(r-(f-p+c))/2;return Object.values(m).forEach((function(n){n.layout.x+=y,n.port.x+=y})),e+=h,m},a=function(n){var i={};return n.forEach((function(n){i[n.definition.name]={port:{x:t.x+p,y:e+l},label:!0,collapsed:[],layout:{x:t.x,y:e,width:0,height:h}},e+=h})),i},m=n.inputs.length>s?o(n.inputs,(function(n){return n.definition.name}),(function(n){var t;return(null===(t=n.dependsOn[0])||void 0===t?void 0:t.solid.name)||""})):a(n.inputs),g={x:t.x,y:Math.max(t.y,e-f),width:r,height:u+2*f};e+=u,n.definition.assetNodes.length&&n.definition.description&&(g.height+=d,e+=d);var y=n.outputs.length>s?o(n.outputs,(function(n){var t;return(null===(t=n.dependedBy[0])||void 0===t?void 0:t.definition.name)||""}),(function(n){var t;return(null===(t=n.dependedBy[0])||void 0===t?void 0:t.solid.name)||""})):a(n.outputs);return{bounds:{x:t.x-5,y:t.y-5,width:r+10,height:e-t.y+10},op:g,inputs:m,outputs:y}}},81079:function(n,t,e){function i(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}e.d(t,{Z:function(){return i}})},68079:function(n,t,e){e.d(t,{Z:function(){return r}});var i=e(926);var o=e(81079),a=e(59147);function r(n){return function(n){if(Array.isArray(n))return(0,i.Z)(n)}(n)||(0,o.Z)(n)||(0,a.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=488.eef691b5.chunk.js.map