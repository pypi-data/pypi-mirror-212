"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[3143],{39197:function(t,e,r){r.d(e,{v:function(){return o}});var n=r(56007),a=r(58831);function o(t,e){var r=(0,a.M)(t.entity_id),o=void 0!==e?e:null==t?void 0:t.state;if(["button","input_button","scene"].includes(r))return o!==n.nZ;if((0,n.rk)(o))return!1;if(o===n.PX&&"alert"!==r)return!1;switch(r){case"alarm_control_panel":return"disarmed"!==o;case"alert":return"idle"!==o;case"cover":return"closed"!==o;case"device_tracker":case"person":return"not_home"!==o;case"lock":return"locked"!==o;case"media_player":return"standby"!==o;case"vacuum":return!["idle","docked","paused"].includes(o);case"plant":return"problem"===o;case"group":return["on","home","open","locked","problem"].includes(o);case"timer":return"active"===o;case"camera":return"streaming"===o}return!0}},6229:function(t,e,r){r.d(e,{Hh:function(){return l},tD:function(){return f}});var n=r(56007),a=r(73059),o=r(22134),i=r(83447),c=r(58831),u=r(39197),s=new Set(["alarm_control_panel","alert","automation","binary_sensor","calendar","camera","climate","cover","device_tracker","fan","group","humidifier","input_boolean","light","lock","media_player","person","plant","remote","schedule","script","siren","sun","switch","timer","update","vacuum"]),l=function(t,e){if((void 0!==e?e:null==t?void 0:t.state)===n.nZ)return"var(--state-unavailable-color)";var r=f(t,e);return r?(0,o.I)(r):void 0},d=function(t,e,r){var n=void 0!==r?r:e.state,a=(0,u.v)(e,r),o=[],c=(0,i.l)(n,"_"),s=a?"active":"inactive",l=e.attributes.device_class;return l&&o.push("--state-".concat(t,"-").concat(l,"-").concat(c,"-color")),o.push("--state-".concat(t,"-").concat(c,"-color"),"--state-".concat(t,"-").concat(s,"-color"),"--state-".concat(s,"-color")),o},f=function(t,e){var r=void 0!==e?e:null==t?void 0:t.state,n=(0,c.M)(t.entity_id),o=t.attributes.device_class;if("sensor"===n&&"battery"===o){var i=function(t){var e=Number(t);if(!isNaN(e))return e>=70?"--state-sensor-battery-high-color":e>=30?"--state-sensor-battery-medium-color":"--state-sensor-battery-low-color"}(r);if(i)return[i]}if("group"===n){var u=(0,a.W)(t);if(u&&s.has(u))return d(u,t,e)}if(s.has(n))return d(n,t,e)}},83447:function(t,e,r){r.d(e,{l:function(){return n}});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",r="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",n="aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz".concat(e).concat(e).concat(e).concat(e).concat(e).concat(e),a=new RegExp(r.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,e).replace(a,(function(t){return n.charAt(r.indexOf(t))})).replace(/&/g,"".concat(e,"and").concat(e)).replace(/[^\w-]+/g,"").replace(/-/g,e).replace(new RegExp("(".concat(e,")\\1+"),"g"),"$1").replace(new RegExp("^".concat(e,"+")),"").replace(new RegExp("".concat(e,"+$")),"")}},52797:function(t,e,r){r.d(e,{N:function(){return o}});var n,a=r(88962),o=(0,r(68144).iv)(n||(n=(0,a.Z)(["ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}"])))},43426:function(t,e,r){if(r.d(e,{U:function(){return i}}),98818!=r.j)var n=r(99312);if(98818!=r.j)var a=r(81043);var o,i=98818!=r.j?(o=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,o,i){var c,u,s,l,d,f,v=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=v.length,u=new Array(c>5?c-5:0),s=5;s<c;s++)u[s-5]=v[s];if((l=o[e])||(l=o[e]={}),!(d=l[i])){t.next=6;break}return t.abrupt("return",d);case 6:return f=a.apply(void 0,[o,i].concat(u)),l[i]=f,f.then((function(){return setTimeout((function(){l[i]=void 0}),r)}),(function(){l[i]=void 0})),t.abrupt("return",f);case 10:case"end":return t.stop()}}),t)}))),function(t,e,r,n,a){return o.apply(this,arguments)}):null},3143:function(t,e,r){var n,a,o,i=r(76775),c=r(88962),u=r(33368),s=r(71650),l=r(82390),d=r(69205),f=r(70906),v=r(91808),h=r(88771),p=r(47838),_=r(68144),b=r(79932),y=r(30153),m=r(47501),g=r(58831),k=r(22311),w=r(6229),E=r(52797),Z=r(89439),T=r(74674),I=(r(87037),(0,v.Z)(null,(function(t,e){var r=function(e){(0,d.Z)(n,e);var r=(0,f.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=r.call.apply(r,[this].concat(o)),t((0,l.Z)(e)),e}return(0,u.Z)(n)}(e);return{F:r,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"overrideIcon",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"overrideImage",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"stateColor",value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"color",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Boolean,reflect:!0,attribute:"icon"})],key:"_showIcon",value:function(){return!0}},{kind:"field",decorators:[(0,b.SB)()],key:"_iconStyle",value:function(){return{}}},{kind:"get",key:"_stateColor",value:function(){var t=this.stateObj?(0,k.N)(this.stateObj):void 0;return this.stateColor||"light"===t&&!1!==this.stateColor}},{kind:"method",key:"render",value:function(){var t=this.stateObj;if(!t&&!this.overrideIcon&&!this.overrideImage)return(0,_.dy)(n||(n=(0,c.Z)(['<div class="missing"> <ha-svg-icon .path="','"></ha-svg-icon> </div>'])),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");if(!this._showIcon)return _.Ld;var e=t?(0,k.N)(t):void 0;return(0,_.dy)(a||(a=(0,c.Z)(['<ha-state-icon style="','" data-domain="','" data-state="','" .icon="','" .state="','"></ha-state-icon>'])),(0,m.V)(this._iconStyle),(0,y.o)(e),(0,y.o)(null==t?void 0:t.state),this.overrideIcon,t)}},{kind:"method",key:"willUpdate",value:function(t){if((0,h.Z)((0,p.Z)(r.prototype),"willUpdate",this).call(this,t),t.has("stateObj")||t.has("overrideImage")||t.has("overrideIcon")||t.has("stateColor")||t.has("color")){var e=this.stateObj,n={},a={backgroundImage:""};if(this._showIcon=!0,e&&void 0===this.overrideImage)if(!e.attributes.entity_picture_local&&!e.attributes.entity_picture||this.overrideIcon){if(this.color)n.color=this.color;else if(this._stateColor){var o=(0,w.Hh)(e);if(o&&(n.color=o),e.attributes.rgb_color&&(n.color="rgb(".concat(e.attributes.rgb_color.join(","),")")),e.attributes.brightness){var c=e.attributes.brightness;if("number"!=typeof c){var u="Type error: state-badge expected number, but type of ".concat(e.entity_id,".attributes.brightness is ").concat((0,i.Z)(c)," (").concat(c,")");console.warn(u)}n.filter="brightness(".concat((c+245)/5,"%)")}if(e.attributes.hvac_action){var s=e.attributes.hvac_action;s in T.cH?n.color=(0,w.Hh)(e,T.cH[s]):delete n.color}}}else{var l=e.attributes.entity_picture_local||e.attributes.entity_picture;this.hass&&(l=this.hass.hassUrl(l)),"camera"===(0,g.M)(e.entity_id)&&(l=(0,Z.Ch)(l,80,80)),a.backgroundImage="url(".concat(l,")"),this._showIcon=!1}else if(this.overrideImage){var d=this.overrideImage;this.hass&&(d=this.hass.hassUrl(d)),a.backgroundImage="url(".concat(d,")"),this._showIcon=!1}this._iconStyle=n,Object.assign(this.style,a)}}},{kind:"get",static:!0,key:"styles",value:function(){return[E.N,(0,_.iv)(o||(o=(0,c.Z)([":host{position:relative;display:inline-block;width:40px;color:var(--paper-item-icon-color,#44739e);border-radius:50%;height:40px;text-align:center;background-size:cover;line-height:40px;vertical-align:middle;box-sizing:border-box;--state-inactive-color:initial}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}"])))]}}]}}),_.oi));customElements.define("state-badge",I)},89439:function(t,e,r){if(r.d(e,{B:function(){return E},Ch:function(){return h},Lr:function(){return y},Mw:function(){return k},Xn:function(){return g},i4:function(){return _},jU:function(){return v},kU:function(){return f},nk:function(){return p},qW:function(){return d},sF:function(){return l},tb:function(){return m},zj:function(){return Z}}),98818!=r.j)var n=r(99312);if(98818!=r.j)var a=r(81043);if(98818!=r.j)var o=r(43426);var i,c,u,s=r(22814),l=98818!=r.j?[1,2,3,4,6,8]:null,d=2,f="hls",v="web_rtc",h=function(t,e,r){return"".concat(t,"&width=").concat(e,"&height=").concat(r)},p=function(t){return"/api/camera_proxy_stream/".concat(t.entity_id,"?token=").concat(t.attributes.access_token)},_=98818!=r.j?(i=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,i){var c;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.U)("_cameraTmbUrl",9e3,b,e,r);case 2:return c=t.sent,t.abrupt("return",h(c,a,i));case 4:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return i.apply(this,arguments)}):null,b=98818!=r.j?(c=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.iI)(e,"/api/camera_proxy/".concat(r));case 2:return a=t.sent,t.abrupt("return",e.hassUrl(a.path));case 4:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)}):null,y=98818!=r.j?(u=(0,a.Z)((0,n.Z)().mark((function t(e,r,a){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={type:"camera/stream",entity_id:r},a&&(o.format=a),t.next=4,e.callWS(o);case 4:return(i=t.sent).url=e.hassUrl(i.url),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),function(t,e,r){return u.apply(this,arguments)}):null,m=function(t,e,r){return t.callWS({type:"camera/web_rtc_offer",entity_id:e,offer:r})},g=function(t,e){return t.callWS({type:"camera/get_prefs",entity_id:e})},k=function(t,e,r){return t.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},r))},w="media-source://camera/",E=function(t){return t.startsWith(w)},Z=function(t){return t.substring(22)}},74674:function(t,e,r){r.d(e,{T1:function(){return n},ZS:function(){return i},cH:function(){return c},pi:function(){return a}});var n="none",a=function(t){return t[t.TARGET_TEMPERATURE=1]="TARGET_TEMPERATURE",t[t.TARGET_TEMPERATURE_RANGE=2]="TARGET_TEMPERATURE_RANGE",t[t.TARGET_HUMIDITY=4]="TARGET_HUMIDITY",t[t.FAN_MODE=8]="FAN_MODE",t[t.PRESET_MODE=16]="PRESET_MODE",t[t.SWING_MODE=32]="SWING_MODE",t[t.AUX_HEAT=64]="AUX_HEAT",t}({}),o={auto:1,heat_cool:2,heat:3,cool:4,dry:5,fan_only:6,off:7},i=function(t,e){return o[t]-o[e]},c={cooling:"cool",drying:"dry",fan:"fan_only",heating:"heat",idle:"off",off:"off"}},73059:function(t,e,r){r.d(e,{W:function(){return o}});var n=r(53709),a=r(58831),o=function(t){var e=t.attributes.entity_id||[],r=(0,n.Z)(new Set(e.map((function(t){return(0,a.M)(t)}))));return 1===r.length?r[0]:void 0}},22134:function(t,e,r){if(r.d(e,{I:function(){return a},g:function(){return o}}),98818!=r.j)var n=r(40039);function a(t){return Array.isArray(t)?t.reverse().reduce((function(t,e){return"var(".concat(e).concat(t?", ".concat(t):"",")")}),void 0):"var(".concat(t,")")}function o(t,e){if(Array.isArray(t)){var r,a=(0,n.Z)(t);try{for(a.s();!(r=a.n()).done;){var i=o(r.value,e);if(i)return i}}catch(c){a.e(c)}finally{a.f()}}else if(t.endsWith("-color"))return e.getPropertyValue(t).trim()||void 0}}}]);
//# sourceMappingURL=3143-vo1SEAtwnmw.js.map